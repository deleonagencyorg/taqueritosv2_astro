---
import LazyImage from '../common/LazyImage.astro';
import { getLocale } from '../../i18n/i18n';
import { Image } from 'astro:assets';
import { fade } from 'astro:transitions';

interface Props {
  image: string;
  title: string;
  id: string;
  slug: string;
  textColor?: string;
  iconColor?: string;
  hoverImage?: string;
  currentLang?: string;
}

const { 
  image, 
  title, 
  id,
  slug,
  textColor = 'text-blue-900',
  iconColor = 'text-blue-900',
  hoverImage = image,
  currentLang = getLocale()
} = Astro.props;

const blogLink = `/${currentLang}/blog/${slug || id}`;
const viewBlogText = currentLang === 'es' ? 'Leer m√°s' : 'Read more';
---

<div class="news-card">
  <a href={blogLink} class="block group relative overflow-hidden rounded-[1rem]" style="aspect-ratio: 9/16;">
    <img 
      src={image || '/images/blog/placeholder.jpg'} 
      alt={title} 
      class="absolute inset-0 w-full h-full object-cover transform transition-transform duration-500 ease-out group-hover:scale-105" 
      loading="lazy" 
      transition:name={`blog-image-${id}`}
    />
    <!-- Overlay oscuro base que aumenta en hover -->
    <div class="absolute inset-0 bg-black/30 group-hover:bg-black/50 transition-colors duration-300"></div>
    <!-- Contenido inferior -->
    <div class="absolute inset-x-0 bottom-0 p-3 z-10 flex flex-col gap-2">
      <h3 class="text-white font-bold text-sm md:text-base leading-tight">{title}</h3>
      <div>
        <span class="inline-block border-2 border-white bg-transparent text-white py-1.5 px-4 rounded-md text-center text-xs md:text-sm font-medium">
          {viewBlogText}
        </span>
      </div>
    </div>
  </a>
</div>

<style>
  /* Mantener los mismos estilos que RecipeCard */
</style>
